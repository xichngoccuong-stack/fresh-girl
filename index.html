<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FG Management Page</title>
    <link rel="icon" type="image/x-icon" href="tabLogo.jpg">
    <link rel="stylesheet" href="styles.css">
    <!-- Firebase SDK v8 (for compatibility with static HTML) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <!-- Cloudinary Upload Widget -->
    <script src="https://upload-widget.cloudinary.com/global/all.js"></script>
</head>
<body>
    <div class="container">
        <h1>FG Management Page</h1>

        <!-- Notification system -->
        <div id="notification" class="notification" style="display: none;">
            <span id="notificationMessage"></span>
            <span class="notification-close" onclick="hideNotification()">&times;</span>
        </div>

        <!-- Loading overlay -->
        <div id="loadingOverlay" class="loading-overlay" style="display: none;">
            <div class="big-spinner"></div>
        </div>
        <div class="upload-section">
            <input type="file" id="imageInput" accept="image/*" multiple>
            <div id="imagePreview" class="image-preview"></div>
            <select id="titleSelect" style="margin: 10px 0;">
                <option value="">Select title for upload</option>
            </select>
            <button id="createTitleBtn" style="margin: 10px 0;">Create New Title</button>
            <button id="uploadBtn" style="display: none;">Upload Images</button>
            <button id="clearAllBtn" style="display: none; margin-left: 10px; background-color: #dc3545;">Clear All</button>
            <div id="uploadSpinner" class="spinner" style="display: none;"></div>
        </div>
        <div class="images-section">
            <h2>Uploaded Images</h2>
            <div class="search-section">
                <button id="openManageModalBtn">Manage Titles</button>
                <select id="searchSelect">
                    <option value="">Select title</option>
                </select>
                <button id="bulkDeleteBtn" style="display: none; background-color: #dc3545; margin-left: 10px;">Delete Selected</button>
            </div>
            <div id="imagesContainer"></div>

            <!-- Pagination controls -->
            <div id="paginationContainer" style="display: none;">
                <button id="prevPageBtn" class="pagination-btn">Previous</button>
                <span id="pageInfo" class="page-info">Page 1 of 1</span>
                <button id="nextPageBtn" class="pagination-btn">Next</button>
            </div>
        </div>
    </div>

    <!-- Modal for full image view -->
    <div id="imageModal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="modalImg">
    </div>

    <!-- Modal for title management -->
    <div id="manageModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeManageModal">&times;</span>
            <h3>Title Management</h3>
            <div style="margin-bottom: 15px;">
                <select id="oldTitleSelect">
                    <option value="">Select old title</option>
                </select>
            </div>
            <div style="margin-bottom: 15px;">
                <textarea id="newTitleInput" placeholder="New title"></textarea>
            </div>
            <button id="updateTitleBtn">Update title</button>
        </div>
    </div>


    <script src="script.js"></script>
</body>
</html>